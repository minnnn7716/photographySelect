import{_ as b,m as f,r,o as l,c as i,a as s,f as t,g as w,n as _}from"./index-90c93330.js";import{t as y}from"./toastStore-fa35cab5.js";import{_ as v}from"./decoration-halo-70b29121.js";const x="/photographySelect/assets/icon-eye-close-42bec460.svg",V="/photographySelect/assets/icon-eye-open-f4635716.svg",k={data(){return{user:{username:"",password:""},showPassword:!1}},methods:{...f(y,["pushMsg"]),login(){const a="https://vue3-course-api.hexschool.io/admin/signin";this.$http.post(a,this.user).then(e=>{const{token:c,expired:d}=e.data;document.cookie=`psToken=${c}; psExpired=${new Date(d)}`,e.data.success?(this.$router.push("/admin/products"),this.pushMsg({style:"success",title:"登入成功"})):this.pushMsg({style:"danger",title:"登入失敗"})}).catch(()=>{this.pushMsg({style:"danger",title:"登入失敗",content:"抱歉，出現系統問題，請聯絡我們！"})})}},computed:{passwordType(){return this.showPassword?"text":"password"}}},M={class:"d-flex align-items-center overflow-hidden"},P={class:"container pt-10 pt-lg-12"},S=s("div",{class:"font-serif-en text-center mb-4 mb-lg-10 position-relative"},[s("h2",{class:"fs-display-5 fs-lg-display-1 mb-6 mb-lg-6"},"Login"),s("p",{class:"fs-normal-1 fs-lg-6 d-inline-block fw-bold border border-black rounded-pill py-1 px-8"}," Admin "),s("img",{class:"position-absolute top-50 start-50 translate-middle z-minus-1",src:v,alt:"decoration-halo"})],-1),z={class:"row justify-content-center font-sans-tw"},C={class:"col-11 col-lg-3"},E=s("label",{for:"email"},"信箱",-1),F=s("span",{class:"error-bg position-absolute z-minus-1"},null,-1),B={key:0,src:x,alt:"隱藏密碼"},T={key:1,src:V,alt:"觀看密碼"},j=s("label",{for:"password"},"密碼",-1),q=s("span",{class:"error-bg position-absolute z-minus-1"},null,-1),A=s("div",{class:"row justify-content-center"},[s("div",{class:"col-8"},[s("button",{form:"login",type:"submit",class:"w-100 btn-custom-light me-3"},"送出")])],-1);function L(a,e,c,d,o,p){const m=r("VField"),u=r("ErrorMsg"),g=r("VForm");return l(),i("div",M,[s("div",P,[S,s("div",z,[s("div",C,[t(g,{onSubmit:p.login,id:"login",class:"mb-10"},{default:w(({errors:h})=>[s("div",{class:_(["form-floating position-relative",{error:h.email}])},[t(m,{type:"email",name:"email",id:"email",class:"form-control bg-transparent rounded-0",placeholder:"name@example.com",modelValue:o.user.username,"onUpdate:modelValue":e[0]||(e[0]=n=>o.user.username=n),rules:"email|required"},null,8,["modelValue"]),E,F,t(u,{name:"email",class:"error-text position-absolute fs-6 text-danger ps-3 mb-1"})],2),s("div",{class:_(["form-floating position-relative",{error:h.密碼}])},[s("button",{onClick:e[1]||(e[1]=n=>o.showPassword=!o.showPassword),type:"button",class:"btn border-0 btn-custom-hover-scale-sm position-absolute bottom-0 end-0 p-1"},[o.showPassword?(l(),i("img",T)):(l(),i("img",B))]),t(m,{type:p.passwordType,id:"password",name:"密碼",class:"form-control bg-transparent rounded-0 pe-10",placeholder:"password",modelValue:o.user.password,"onUpdate:modelValue":e[2]||(e[2]=n=>o.user.password=n),rules:"required|min:6"},null,8,["type","modelValue"]),j,q,t(u,{name:"密碼",class:"error-text position-absolute fs-6 text-danger ps-3 mb-1"})],2)]),_:1},8,["onSubmit"]),A])])])])}const $=b(k,[["render",L]]);export{$ as default};
