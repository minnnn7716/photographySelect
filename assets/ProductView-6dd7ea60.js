import{_ as C,m as f,d as b,r as h,o as i,c as l,a as s,F as v,e as _,t as a,f as p,b as y,i as N,v as k,j as S,n as T}from"./index-90c93330.js";import{R as V}from"./RatingScore-9b7f71bd.js";import{F as B}from"./FavoriteBtn-5e2732ea.js";import{p as w,c as P}from"./cartStore-1aabcc76.js";import"./toastStore-fa35cab5.js";const L={data(){return{qty:1,scroll:{}}},watch:{id:"getSingleProduct"},components:{RatingScore:V,FavoriteBtn:B},props:{id:{type:String,default:""}},methods:{...f(w,["getSingleProduct"]),...f(P,["addCart","buyNow"]),scrollBar(){const t=window.scrollY,o=this.$refs.main.getBoundingClientRect().height,c=this.$refs.mainContent.getBoundingClientRect().height,u=window.innerHeight,e=107,d=o+e-u,g=c+e,r=c+e-u;t<=0&&(this.$refs.mainContent.style.top=`${e}px`),g>u?t>=r&&t<=d?this.$refs.mainContent.style.top=`${t-r-32}px`:t>d?this.$refs.mainContent.style.top=`${o-c}px`:this.$refs.mainContent.style.top="0":t>=e&&t<d?this.$refs.mainContent.style.top=`${t}px`:t>d?this.$refs.mainContent.style.top=`${o-c}px`:t<e&&(this.$refs.mainContent.style.top="0")}},computed:{...b(w,["singleProduct","availableNum","isLoading"]),...b(P,["isLoading"])},created(){this.getSingleProduct(this.id)},mounted(){window.innerWidth>910&&window.addEventListener("scroll",this.scrollBar)},unmounted(){window.removeEventListener("scroll",this.scrollBar)}},q={class:"container pt-4 pt-lg-8"},F={class:"productView-img d-lg-none mb-4"},H=["src","alt"],R={class:"row flex-column-reverse flex-lg-row gx-lg-10 gy-4"},A={class:"col-12 col-lg-5 productView-img",ref:"side"},j=["src","alt"],O={class:"col-12 col-lg-7 font-sans-tw productView-main",ref:"main"},Q={class:"px-0 px-lg-5 transition-5 productView-main-content",ref:"mainContent"},U={class:"d-flex justify-content-between mb-6 mb-lg-10"},D={class:"d-flex flex-fit flex-column flex-lg-row justify-content-between"},E={class:"productView-title lh-base fs-4 fs-lg-2 mb-2 mb-lg-4"},M={class:"fw-light fs-6 fs-lg-5 mb-2"},z={href:"#",class:"link-black"},W={class:"fw-light fs-6 fs-lg-5 mb-2"},Y={class:"text-end"},G=["innerHTML"],I={class:"text-end mb-6"},J={class:"font-serif-tw mb-6"},K={class:"text-decoration-line-through"},X={class:"fs-3"},Z={class:"fs-2"},x={key:0,class:"d-flex justify-content-end"},tt={class:"me-3"},st=s("label",{class:"d-none",for:"productNum"},"數量",-1),et=["value","selected"],ot={key:1,type:"button",class:"btn-custom-disabled px-30",disabled:""},nt=S('<div><h4 class="fw-normal mb-2 fs-5">常見問題</h4><div class="accordion accordion-flush" id="accordionQA"><div class="accordion-item border-bottom border-gray-900"><h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne"> 提供哪些領取商品的方式？ </button></h2><div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionQA"><div class="accordion-body"><p>可以「來店自取」、「超商取貨」與「宅配」。</p><p>自取可備註環保無包裝，或是輕量僅包裝防塵塑膠套。若是配送則會使用防撞包材妥善的將商品包裝至特規製作的厚紙箱，讓您安心收到喜愛的商品。</p></div></div></div><div class="accordion-item border-bottom border-gray-900"><h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo"> 商品有退貨機制嗎？ </button></h2><div id="flush-collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionQA"><div class="accordion-body"><p class="mb-4">有的，我們也符合網路購物有七天的鑑賞期，但必須保持商品包裝的完整性，當收到商品若不符合期待或是任何原因請與我們聯繫。</p><p>若是商品使用收縮膜包裹，拆除收縮膜後則無法辦理退貨，此類商品歡迎到店面觀賞後再決定是否購買。</p></div></div></div><div class="accordion-item border-bottom border-gray-900"><h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree"> 「月閱企劃」是什麼？ </button></h2><div id="flush-collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionQA"><div class="accordion-body"><p class="mb-4">是我們今年度開始執行的「精選攝影集租借訂閱計畫」，月付 300 元，每個月一號將會收到一本攝影集， 在下個月份收到新的攝影集時將前一本攝影集歸還即可。我們希望可以用更平易近人且環保的方式推廣這些美好的片刻。</p><p>若當月閱讀收到的作品後想要直接買下來，便可以使用 6 折的價格購買，如有興趣歡迎與我們聯繫！</p></div></div></div></div></div>',1);function it(t,o,c,u,e,d){const g=h("RatingScore"),r=h("FavoriteBtn"),$=h("LoadingOverlay");return i(),l("div",q,[s("div",F,[s("img",{class:"img-full",src:t.singleProduct.imageUrl,alt:t.singleProduct.title},null,8,H)]),s("div",R,[s("div",A,[(i(!0),l(v,null,_(t.singleProduct.imagesUrl,(n,m)=>(i(),l("img",{key:`圖片 ${m}`,src:n,class:T(["img-full",{"mb-4 mb-lg-8":m!==t.singleProduct.imagesUrl.length-1,"d-none d-lg-block":m===0}]),alt:`${t.singleProduct.title} 內頁預覽`},null,10,j))),128))],512),s("div",O,[s("div",Q,[s("div",U,[s("div",D,[s("div",null,[s("h2",E,a(`${t.singleProduct.title}｜${t.singleProduct.category}攝影`),1),s("h3",M,[s("a",z,a(t.singleProduct.author),1)]),s("p",W,a(t.singleProduct.format),1)]),s("div",Y,[p(g,{class:"mb-2",rate:t.singleProduct.rate,rateNum:t.singleProduct.rateNum},null,8,["rate","rateNum"]),p(r,{class:"d-none d-lg-inline-block me-minus-2",id:t.singleProduct.id},null,8,["id"])])]),p(r,{class:"d-lg-none mt-minus-2 me-minus-2",id:t.singleProduct.id},null,8,["id"])]),s("p",{class:"fs-5 fw-light mb-10",innerHTML:t.singleProduct.content},null,8,G),s("div",I,[s("div",J,[s("p",K,[y(" NT$ "),s("span",null,a(t.$filters.currency(t.singleProduct.origin_price)),1)]),s("p",X,[y(" NT$ "),s("span",Z,a(t.$filters.currency(t.singleProduct.price)),1)])]),t.availableNum?(i(),l("div",x,[s("div",tt,[st,N(s("select",{class:"form-select rounded-0 border-gray-800 h-100 ps-6 pe-10 ps-lg-10 pe-lg-14",name:"productNum",id:"productNum","onUpdate:modelValue":o[0]||(o[0]=n=>e.qty=n)},[(i(!0),l(v,null,_(t.availableNum,n=>(i(),l("option",{value:n,key:`數量 ${n}`,selected:n==e.qty},a(n),9,et))),128))],512),[[k,e.qty]])]),s("button",{type:"button",class:"btn-custom-light me-3",onClick:o[1]||(o[1]=n=>t.addCart(t.singleProduct.id,e.qty))}," 加入購物車 "),s("button",{type:"button",class:"btn-custom-dark",onClick:o[2]||(o[2]=n=>t.buyNow(t.singleProduct.id,e.qty))}," 立即購買 ")])):(i(),l("button",ot," 售完補貨中 "))]),nt],512)],512)]),p($,{active:t.isLoading},null,8,["active"])])}const ut=C(L,[["render",it]]);export{ut as default};
