import{_ as x,m as w,d as v,r as d,o as r,c as i,a as t,b as M,t as s,F as k,e as P,f as u,n as p}from"./index-8558fa27.js";import{a as h}from"./adminProductStore-143ddc0f.js";import{P as N}from"./ProductModal-2f27ae94.js";import{D as C,_ as m}from"./icon-trashcan-7a2a02a4.js";import{_ as b}from"./icon-edit-2eb35b7f.js";import"./toastStore-57ead6d4.js";import"./modalMixin-b8f36e48.js";import"./RatingScore-a4a4486e.js";const D={data(){return{isNew:!1,tempProduct:{},tempDelProduct:{},source:"Product"}},components:{ProductModal:N,DeleteModal:C},methods:{...w(h,["getProducts","deleteProduct","updateProduct","switchEnable"]),openModal(o,l,n){o==="deleteModal"?this.tempDelProduct={id:n.id,title:n.title,source:this.source}:(l?this.tempProduct={totalNum:1,soldNum:0,rate:"0.0",rateNum:0}:this.tempProduct={...n},this.isNew=l),this.$refs[o].showModal()}},computed:{...v(h,["products","productsTotal","isLoading"])},created(){this.getProducts()}},$={class:"container-fluid"},L={class:"row justify-content-center pt-6 pt-lg-10"},S={class:"col-12 col-lg-11"},T={class:"d-flex justify-content-between align-items-center mb-4 mb-lg-10"},j={class:"fs-3 fw-normal"},B={class:"fs-6"},E={class:"table-responsive"},V={class:"admin-table table table-hover align-middle font-sans-tw mb-12"},A=t("thead",null,[t("tr",{class:"fs-normal-1"},[t("th",{scope:"col",class:"d-lg-none p-0",style:{width:"50px"}},[t("span",{class:"d-none"},"操作按鈕")]),t("th",{scope:"col",class:"fw-normal text-gray"},"商品"),t("th",{scope:"col",class:"fw-normal text-center text-gray"},"分類"),t("th",{scope:"col",class:"fw-normal text-center text-gray d-none d-lg-table-cell"}," 作者 "),t("th",{scope:"col",class:"fw-normal text-center text-gray d-none d-lg-table-cell"}," 定價 "),t("th",{scope:"col",class:"fw-normal text-center text-gray"},"售價"),t("th",{scope:"col",class:"fw-normal text-center text-gray d-none d-lg-table-cell"}," 上架 "),t("th",{scope:"col",class:"fw-normal text-center text-gray"},"剩餘 / 總數"),t("th",{scope:"col",class:"d-none d-lg-table-cell fw-normal w-15"},[t("span",{class:"d-none"},"操作按鈕")])])],-1),F={class:"d-lg-none p-0"},O=["onClick"],z=t("img",{src:b,alt:"編輯"},null,-1),U=[z],q=["onClick"],G=t("img",{src:m,alt:"刪除"},null,-1),H=[G],I={scope:"row"},J={class:"d-flex align-items-center justify-content-start"},K={class:"me-4 admin-img"},Q=["src","alt"],R={class:"text-center"},W={class:"text-center d-none d-lg-table-cell"},X={class:"text-center d-none d-lg-table-cell"},Y={class:"text-center"},Z={class:"d-none d-lg-table-cell"},tt={class:"form-check form-switch d-flex justify-content-center"},et=["checked","onClick"],ot=t("label",{class:"form-check-label d-none",for:"launchedSwitch"},"上架狀態",-1),st={class:"text-end d-none d-lg-table-cell"},lt=["onClick"],ct=t("img",{src:b,alt:"編輯"},null,-1),nt=[ct],at=["onClick"],dt=t("img",{src:m,alt:"刪除"},null,-1),rt=[dt];function it(o,l,n,ut,_,c){const f=d("LoadingOverlay"),g=d("ProductModal"),y=d("DeleteModal");return r(),i("div",null,[t("div",$,[t("div",L,[t("div",S,[t("header",T,[t("h3",j,[M(" 商品列表 "),t("span",B,"("+s(o.productsTotal)+")",1)]),t("button",{type:"button",class:"btn btn-gray-800",onClick:l[0]||(l[0]=e=>c.openModal("productModal",!0))}," 新增商品 ")]),t("section",null,[t("div",E,[t("table",V,[A,t("tbody",null,[(r(!0),i(k,null,P(o.products,e=>(r(),i("tr",{key:e.id,class:p({"bg-danger-200":e.soldNum===e.totalNum,"bg-gray-400":!e.is_enabled})},[t("td",F,[t("button",{type:"button",class:"btn border-0 px-1",onClick:a=>c.openModal("productModal",!1,e)},U,8,O),t("button",{type:"button",class:"btn border-0 px-1",onClick:a=>c.openModal("deleteModal",!1,e)},H,8,q)]),t("td",I,[t("div",J,[t("div",K,[t("img",{class:"img-full",src:e.imagesUrl[0],alt:e.title},null,8,Q)]),t("p",null,s(e.title),1)])]),t("td",R,s(e.category),1),t("td",W,s(e.author),1),t("td",X," NT "+s(o.$filters.currency(e.origin_price)),1),t("td",Y,"NT "+s(o.$filters.currency(e.price)),1),t("td",Z,[t("div",tt,[t("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"launchedSwitch",checked:e.is_enabled,onClick:a=>o.switchEnable(e)},null,8,et),ot])]),t("td",{class:p(["text-center",{"text-danger fw-bold":e.soldNum===e.totalNum}])},s(e.totalNum-e.soldNum)+" / "+s(e.totalNum),3),t("td",st,[t("button",{type:"button",class:"btn border-0 btn-custom-hover-scale",onClick:a=>c.openModal("productModal",!1,e)},nt,8,lt),t("button",{type:"button",class:"btn border-0 btn-custom-hover-scale",onClick:a=>c.openModal("deleteModal",!1,e)},rt,8,at)])],2))),128))])])])])])])]),u(f,{active:o.isLoading},null,8,["active"]),u(g,{ref:"productModal",product:_.tempProduct},null,8,["product"]),u(y,{ref:"deleteModal",deleteData:_.tempDelProduct},null,8,["deleteData"])])}const xt=x(D,[["render",it]]);export{xt as default};
